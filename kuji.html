<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å††å½¢ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆãã˜</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
            background-color: #f7f9fc;
            padding: 20px;
            box-sizing: border-box;
        }

        /* æ¡ˆå†…ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #instruction {
            font-size: 1.2rem;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 20px;
            height: 24px; /* ãƒ†ã‚­ã‚¹ãƒˆãŒæ¶ˆãˆã¦ã‚‚ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒãšã‚Œãªã„ã‚ˆã†ã«é«˜ã•ã‚’å›ºå®š */
        }

        /* ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆå…¨ä½“ã®ã‚³ãƒ³ãƒ†ãƒŠ */
        .roulette-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin-bottom: 30px;
        }

        /* é€†ä¸‰è§’å½¢ã®é‡ï¼ˆãƒã‚¤ãƒ³ã‚¿ãƒ¼ï¼‰ */
        .pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 25px solid #f1c40f;
            z-index: 10;
            filter: drop-shadow(0 3px 3px rgba(0,0,0,0.3));
        }

        /* å††å½¢ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆæœ¬ä½“ */
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                #e74c3c 0deg 36deg,   
                #34495e 36deg 108deg, 
                #2c3e50 108deg 180deg,
                #34495e 180deg 252deg,
                #2c3e50 252deg 324deg,
                #34495e 324deg 360deg
            );
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            transition: transform 3.5s cubic-bezier(0.1, 0.7, 0.1, 1);
        }

        /* çµæœãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #result-text {
            font-size: 1.1rem;
            font-weight: bold;
            min-height: 80px;
            color: #34495e;
            text-align: center;
            line-height: 1.6;
            opacity: 0; /* æœ€åˆã¯é€æ˜ã«ã—ã¦ãŠã */
            transition: opacity 0.5s ease; /* ãƒ•ãƒ¯ãƒƒã¨è¡¨ç¤ºã•ã›ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        }

        /* å½“ãŸã‚Šãƒ»ãƒã‚ºãƒ¬ã®ãƒ¡ã‚¤ãƒ³æ–‡å­—ã‚’å¤§ããã™ã‚‹ç”¨ã®ã‚¯ãƒ©ã‚¹ */
        .highlight {
            font-size: 2rem;
            display: block;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <div id="instruction">ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆãŒå›ã£ã¦ã„ã¾ã™...</div>

    <div class="roulette-container">
        <div class="pointer"></div>
        <div class="wheel" id="wheel"></div>
    </div>

    <div id="result-text"></div>

    <script>
        // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰è‡ªå‹•çš„ã«å®Ÿè¡Œ
        window.onload = function() {
            // ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ã‹ã‚‰0.5ç§’å¾Œã«ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’å›ã—å§‹ã‚ã‚‹ï¼ˆå°‘ã—é–“ã‚’ç½®ãã“ã¨ã§è‡ªç„¶ãªæ¼”å‡ºã«ï¼‰
            setTimeout(spinWheel, 500);
        };

        function spinWheel() {
            const wheel = document.getElementById('wheel');
            const resultText = document.getElementById('result-text');
            const instruction = document.getElementById('instruction');

            // 1. ç¢ºç‡åˆ¤å®šï¼ˆ10%ã§å½“ãŸã‚Šï¼‰
            const randomNum = Math.random();
            const isWin = randomNum < 0.1;

            let targetAngle = 0;

            if (isWin) {
                // å½“ãŸã‚Šã®å ´åˆï¼š5åº¦ã€œ31åº¦ã®é–“ã§ãƒ©ãƒ³ãƒ€ãƒ åœæ­¢
                targetAngle = Math.floor(Math.random() * 27) + 5;
            } else {
                // ãƒã‚ºãƒ¬ã®å ´åˆï¼š40åº¦ã€œ350åº¦ã®é–“ã§ãƒ©ãƒ³ãƒ€ãƒ åœæ­¢
                targetAngle = Math.floor(Math.random() * 311) + 40;
            }

            // 2. å›è»¢è§’åº¦ã®è¨ˆç®—
            const rotationToAdd = 360 - targetAngle;
            // æœ€ä½5å›è»¢ï¼ˆ1800åº¦ï¼‰ã•ã›ã‚‹
            const spinAmount = (5 * 360) + rotationToAdd;

            // 3. ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’å›è»¢ã•ã›ã‚‹
            wheel.style.transform = `rotate(${spinAmount}deg)`;

            // 4. å›è»¢çµ‚äº†å¾Œã«çµæœã‚’è¡¨ç¤º
            setTimeout(() => {
                // ã€Œå›ã£ã¦ã„ã¾ã™...ã€ã®æ¡ˆå†…ã‚’æ¶ˆã™
                instruction.innerHTML = ""; 
                
                if (isWin) {
                    resultText.innerHTML = "<span class='highlight'>ğŸ‰ ã‚ãŸã‚Šï¼ ğŸ‰</span>æ™¯å“ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆï¼<br>ã‚¹ã‚¿ãƒƒãƒ•ã«ã“ã®ç”»é¢ã‚’ãŠè¦‹ã›ãã ã•ã„ï¼";
                    resultText.style.color = "#e74c3c";
                } else {
                    resultText.innerHTML = "<span class='highlight'>ğŸ˜¢ ãƒã‚ºãƒ¬ï¼æ®‹å¿µï¼</span>ã§ã‚‚å‚åŠ è³ãŒã‚ã‚Šã¾ã™ã®ã§<br>ã“ã®ç”»é¢ã‚’ã‚¹ã‚¿ãƒƒãƒ•ã«ãŠè¦‹ã›ãã ã•ã„ï¼";
                    resultText.style.color = "#34495e";
                }
                
                // çµæœã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ•ãƒ¯ãƒƒã¨è¡¨ç¤º
                resultText.style.opacity = 1; 
            }, 3500); // CSSã®transitionæ™‚é–“(3.5s)ã¨åˆã‚ã›ã‚‹
        }
    </script>

</body>
</html>