<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™¯å“ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆãã˜</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
            background-color: #f7f9fc;
            padding: 20px;
            box-sizing: border-box;
        }

        /* æ¡ˆå†…ãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #instruction {
            font-size: 1.2rem;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 20px;
            height: 24px;
        }

        /* ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆå…¨ä½“ã®ã‚³ãƒ³ãƒ†ãƒŠ */
        .roulette-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin-bottom: 30px;
        }

        /* é€†ä¸‰è§’å½¢ã®é‡ï¼ˆãƒã‚¤ãƒ³ã‚¿ãƒ¼ï¼‰ */
        .pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 25px solid #f1c40f;
            z-index: 10;
            filter: drop-shadow(0 3px 3px rgba(0,0,0,0.3));
        }

        /* å††å½¢ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆæœ¬ä½“ */
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            /* å„æ™¯å“ã®ç¢ºç‡ã«åˆã‚ã›ã¦è§’åº¦ã¨è‰²ã‚’è¨­å®š */
            background: conic-gradient(
                #e74c3c 0deg 18deg,     /* 1ç­‰: ãŠç±³ (5% = 18åº¦) èµ¤ */
                #e67e22 18deg 54deg,    /* 2ç­‰: ã‚·ãƒ¼ãƒ« (10% = 36åº¦) ã‚ªãƒ¬ãƒ³ã‚¸ */
                #2ecc71 54deg 126deg,   /* 3ç­‰: æ—¥ç”¨å“ (20% = 72åº¦) ç·‘ */
                #3498db 126deg 198deg,  /* 4ç­‰: ãŠã‚‚ã¡ã‚ƒ (20% = 72åº¦) é’ */
                #34495e 198deg 360deg   /* å‚åŠ è³ (45% = 162åº¦) ç´ºè‰² */
            );
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            transition: transform 3.5s cubic-bezier(0.1, 0.7, 0.1, 1);
        }

        /* çµæœãƒ†ã‚­ã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #result-text {
            font-size: 1.1rem;
            font-weight: bold;
            min-height: 80px;
            text-align: center;
            line-height: 1.6;
            opacity: 0; 
            transition: opacity 0.5s ease;
        }

        /* å½“ãŸã‚Šã®ãƒ¡ã‚¤ãƒ³æ–‡å­—ã‚’å¤§ããã™ã‚‹ç”¨ã®ã‚¯ãƒ©ã‚¹ */
        .highlight {
            font-size: 1.8rem;
            display: block;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <div id="instruction">ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆãŒå›ã£ã¦ã„ã¾ã™...</div>

    <div class="roulette-container">
        <div class="pointer"></div>
        <div class="wheel" id="wheel"></div>
    </div>

    <div id="result-text"></div>

    <script>
        window.onload = function() {
            // ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ã‹ã‚‰0.5ç§’å¾Œã«è‡ªå‹•ã‚¹ã‚¿ãƒ¼ãƒˆ
            setTimeout(spinWheel, 500);
        };

        function spinWheel() {
            const wheel = document.getElementById('wheel');
            const resultText = document.getElementById('result-text');
            const instruction = document.getElementById('instruction');

            // 1. ç¢ºç‡åˆ¤å®šã®ãŸã‚ã®ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å€¤ (0.00 ã€œ 0.999...)
            const r = Math.random();

            let targetAngle = 0;
            let prizeText = "";
            let prizeColor = "";

            // 2. ç¢ºç‡ã«å¿œã˜ãŸçµæœã®å‰²ã‚Šå½“ã¦ã¨ã€é‡ãŒæ­¢ã¾ã‚‹è§’åº¦ã®æ±ºå®š
            // â€»å¢ƒç•Œç·šã‚®ãƒªã‚®ãƒªã«æ­¢ã¾ã‚‰ãªã„ã‚ˆã†ã€å„ã‚¨ãƒªã‚¢ã®å†…å´ã§ãƒ©ãƒ³ãƒ€ãƒ ã«æ­¢ã¾ã‚‹ã‚ˆã†ã«è¨ˆç®—ã—ã¦ã„ã¾ã™
            
            if (r < 0.05) {
                // 1ç­‰ï¼šãŠç±³ï¼ˆ5%ï¼‰: 0åº¦ã€œ18åº¦
                targetAngle = Math.floor(Math.random() * 15) + 2; 
                prizeText = "<span class='highlight'>ğŸ‰ 1ç­‰ ãŠç±³ï¼ ğŸ‰</span>ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>ã‚¹ã‚¿ãƒƒãƒ•ã«ã“ã®ç”»é¢ã‚’ãŠè¦‹ã›ãã ã•ã„ï¼";
                prizeColor = "#e74c3c"; // èµ¤
                
            } else if (r < 0.15) {
                // 2ç­‰ï¼šã·ã£ãã‚Šã‚·ãƒ¼ãƒ«ï¼ˆ10%ï¼‰: 18åº¦ã€œ54åº¦
                targetAngle = Math.floor(Math.random() * 33) + 20;
                prizeText = "<span class='highlight'>âœ¨ 2ç­‰ ã·ã£ãã‚Šã‚·ãƒ¼ãƒ«ï¼ âœ¨</span>ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>ã‚¹ã‚¿ãƒƒãƒ•ã«ã“ã®ç”»é¢ã‚’ãŠè¦‹ã›ãã ã•ã„ï¼";
                prizeColor = "#e67e22"; // ã‚ªãƒ¬ãƒ³ã‚¸
                
            } else if (r < 0.35) {
                // 3ç­‰ï¼šæ—¥ç”¨å“ï¼ˆ20%ï¼‰: 54åº¦ã€œ126åº¦
                targetAngle = Math.floor(Math.random() * 69) + 56;
                prizeText = "<span class='highlight'>ğŸŠ 3ç­‰ æ—¥ç”¨å“ï¼ ğŸŠ</span>ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>ã‚¹ã‚¿ãƒƒãƒ•ã«ã“ã®ç”»é¢ã‚’ãŠè¦‹ã›ãã ã•ã„ï¼";
                prizeColor = "#2ecc71"; // ç·‘
                
            } else if (r < 0.55) {
                // 4ç­‰ï¼šãŠã‚‚ã¡ã‚ƒï¼ˆ20%ï¼‰: 126åº¦ã€œ198åº¦
                targetAngle = Math.floor(Math.random() * 69) + 128;
                prizeText = "<span class='highlight'>ğŸˆ 4ç­‰ ãŠã‚‚ã¡ã‚ƒï¼ ğŸˆ</span>ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>ã‚¹ã‚¿ãƒƒãƒ•ã«ã“ã®ç”»é¢ã‚’ãŠè¦‹ã›ãã ã•ã„ï¼";
                prizeColor = "#3498db"; // é’
                
            } else {
                // å‚åŠ è³ï¼ˆ45%ï¼‰: 198åº¦ã€œ360åº¦
                targetAngle = Math.floor(Math.random() * 159) + 200;
                prizeText = "<span class='highlight'>ğŸ‘ å‚åŠ è³ï¼ ğŸ‘</span>ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼<br>ã‚¹ã‚¿ãƒƒãƒ•ã«ã“ã®ç”»é¢ã‚’ãŠè¦‹ã›ãã ã•ã„ï¼";
                prizeColor = "#34495e"; // ç´ºè‰²
            }

            // 3. å›è»¢è§’åº¦ã®è¨ˆç®—ï¼ˆæœ€ä½5å›è»¢ã•ã›ã‚‹ï¼‰
            const rotationToAdd = 360 - targetAngle;
            const spinAmount = (5 * 360) + rotationToAdd;

            // 4. ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’å›è»¢ã•ã›ã‚‹
            wheel.style.transform = `rotate(${spinAmount}deg)`;

            // 5. å›è»¢çµ‚äº†å¾Œã«çµæœã‚’è¡¨ç¤º
            setTimeout(() => {
                instruction.innerHTML = ""; // ã€Œå›ã£ã¦ã„ã¾ã™...ã€ã‚’æ¶ˆã™
                
                resultText.innerHTML = prizeText;
                resultText.style.color = prizeColor;
                resultText.style.opacity = 1; // ãƒ•ãƒ¯ãƒƒã¨è¡¨ç¤º
            }, 3500);
        }
    </script>

</body>
</html>
